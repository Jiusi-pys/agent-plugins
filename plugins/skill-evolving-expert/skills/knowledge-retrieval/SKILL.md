---
name: knowledge-retrieval
description: ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢å·²æœ‰çš„è§£å†³æ–¹æ¡ˆå’Œæœ€ä½³å®è·µã€‚å½“é‡åˆ°ç¼–è¯‘é”™è¯¯ã€é…ç½®é—®é¢˜ã€æŠ€æœ¯éš¾é¢˜æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æ­¤ skill æŸ¥è¯¢æ˜¯å¦å·²æœ‰è§£å†³æ–¹æ¡ˆã€‚
allowed-tools:
  - Read
  - Grep
  - Glob
  - Bash(jq,grep,find)
---

# çŸ¥è¯†åº“æ£€ç´¢ Skill

å½“é‡åˆ°é—®é¢˜æˆ–éœ€è¦è§£å†³æ–¹æ¡ˆæ—¶ï¼Œ**ä¼˜å…ˆæŸ¥è¯¢çŸ¥è¯†åº“**ä¸­æ˜¯å¦å·²æœ‰ç›¸å…³çš„è§£å†³æ–¹æ¡ˆï¼Œé¿å…é‡å¤å·¥ä½œã€‚

## æ ¸å¿ƒåŸåˆ™

âš ï¸ **é‡è¦åŸåˆ™**ï¼šé‡åˆ°ä»»ä½•é—®é¢˜æ—¶ï¼Œ**å…ˆæŸ¥è¯¢çŸ¥è¯†åº“ï¼Œåå°è¯•è§£å†³**ã€‚

```
é‡åˆ°é—®é¢˜
    â†“
é¦–å…ˆï¼šæŸ¥è¯¢çŸ¥è¯†åº“ (ä½¿ç”¨æ­¤ skill)
    â†“
æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Ÿ
    â”œâ”€ æ˜¯ â†’ åº”ç”¨ç°æœ‰æ–¹æ¡ˆ âœ…
    â””â”€ å¦ â†’ å°è¯•æ–°çš„è§£å†³æ–¹æ¡ˆ â†’ è®°å½•åˆ°çŸ¥è¯†åº“
```

## æ£€ç´¢èŒƒå›´

### 1. æœ¬åœ°çŸ¥è¯†åº“
è·¯å¾„ï¼š`./docs/.evolving-expert/`

åŒ…å«ï¼š
- å½“å‰é¡¹ç›®çš„è§£å†³æ–¹æ¡ˆ
- é¡¹ç›®ç‰¹å®šçš„æœ€ä½³å®è·µ
- æœ¬åœ°æç‚¼çš„æ¨¡å¼

### 2. å…¨å±€çŸ¥è¯†åº“
è·¯å¾„ï¼š`~/.claude/knowledge-base/`

åŒ…å«ï¼š
- è·¨é¡¹ç›®çš„è§£å†³æ–¹æ¡ˆæ±‡æ€»
- é€šç”¨æœ€ä½³å®è·µ
- é«˜é¢‘é—®é¢˜çš„æ¨¡å¼

## æ£€ç´¢ç­–ç•¥

### æ­¥éª¤ 1: è¯†åˆ«é—®é¢˜å…³é”®è¯

ä»é”™è¯¯ä¿¡æ¯ã€é—®é¢˜æè¿°ä¸­æå–å…³é”®è¯ï¼š
- æŠ€æœ¯æ ˆï¼ˆå¦‚ ros2, cmake, buildï¼‰
- é”™è¯¯ç±»å‹ï¼ˆå¦‚ compilation, linking, runtimeï¼‰
- ç»„ä»¶åç§°ï¼ˆå¦‚ dsoftbus, rmw, middlewareï¼‰

### æ­¥éª¤ 2: æŸ¥è¯¢æœ¬åœ°çŸ¥è¯†åº“

```bash
# 1. æ£€æŸ¥æœ¬åœ°ç´¢å¼•
LOCAL_KB="./docs/.evolving-expert"

if [ -f "$LOCAL_KB/index.json" ]; then
    # æŒ‰å…³é”®è¯æœç´¢
    jq '.solutions[] | select(.tags[] | test("keyword"; "i"))' \
       "$LOCAL_KB/index.json"
fi
```

### æ­¥éª¤ 3: æŸ¥è¯¢å…¨å±€çŸ¥è¯†åº“

```bash
# 2. æ£€æŸ¥å…¨å±€ç´¢å¼•
GLOBAL_KB="$HOME/.claude/knowledge-base"

if [ -f "$GLOBAL_KB/index.json" ]; then
    # æŒ‰å…³é”®è¯æœç´¢
    jq '.solutions[] | select(.tags[] | test("keyword"; "i") or .title | test("keyword"; "i"))' \
       "$GLOBAL_KB/index.json"
fi
```

### æ­¥éª¤ 4: è¯»å–ç›¸å…³è§£å†³æ–¹æ¡ˆ

å¯¹äºæ‰¾åˆ°çš„æ¯ä¸ªè§£å†³æ–¹æ¡ˆï¼š
```bash
# è¯»å–è§£å†³æ–¹æ¡ˆæ–‡ä»¶
solution_id="20260126_123456_fix_cmake"
file=$(jq -r ".solutions[] | select(.id == \"$solution_id\") | .file" "$LOCAL_KB/index.json")

if [ -f "$LOCAL_KB/$file" ]; then
    cat "$LOCAL_KB/$file"
fi
```

### æ­¥éª¤ 5: è¯„ä¼°ç›¸å…³æ€§

å¯¹æ¯ä¸ªæ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆï¼š
1. è¯»å–å®Œæ•´å†…å®¹
2. è¯„ä¼°æ˜¯å¦é€‚ç”¨äºå½“å‰é—®é¢˜
3. å¦‚æœé€‚ç”¨ï¼Œåº”ç”¨è¯¥æ–¹æ¡ˆ
4. å¦‚æœä¸é€‚ç”¨ï¼Œç»§ç»­æœç´¢

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: ç¼–è¯‘é”™è¯¯

```
é‡åˆ° CMake ç¼–è¯‘é”™è¯¯
    â†“
1. æå–å…³é”®è¯: "cmake", "compilation", "error"
    â†“
2. æŸ¥è¯¢çŸ¥è¯†åº“: æœç´¢åŒ…å«è¿™äº›æ ‡ç­¾çš„è§£å†³æ–¹æ¡ˆ
    â†“
3. æ‰¾åˆ°: "20260125_fix_cmake_config" (æ ‡ç­¾: cmake, compilation, build)
    â†“
4. è¯»å–å¹¶åº”ç”¨è¯¥è§£å†³æ–¹æ¡ˆ
    â†“
5. é—®é¢˜è§£å†³ âœ…
```

### åœºæ™¯ 2: é…ç½®é—®é¢˜

```
éœ€è¦é…ç½® ROS2 ç¯å¢ƒ
    â†“
1. å…³é”®è¯: "ros2", "setup", "configuration"
    â†“
2. æŸ¥è¯¢çŸ¥è¯†åº“
    â†“
3. æ‰¾åˆ°: "20260120_ros2_setup_guide"
    â†“
4. åº”ç”¨ç°æœ‰é…ç½®æ–¹æ¡ˆ
    â†“
5. å®Œæˆé…ç½® âœ…
```

### åœºæ™¯ 3: æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ

```
é‡åˆ°æ–°é—®é¢˜
    â†“
1. æŸ¥è¯¢çŸ¥è¯†åº“: æ— ç›¸å…³è§£å†³æ–¹æ¡ˆ
    â†“
2. å°è¯•è§£å†³é—®é¢˜
    â†“
3. é—®é¢˜è§£å†³å
    â†“
4. è®°å½•è§£å†³æ–¹æ¡ˆåˆ°çŸ¥è¯†åº“ï¼ˆä½¿ç”¨ knowledge_manager_v2.shï¼‰
    â†“
5. ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜å¯ä»¥å¤ç”¨ âœ…
```

## æ£€ç´¢å‘½ä»¤å‚è€ƒ

### æŒ‰å…³é”®è¯æœç´¢

```bash
# æœç´¢æœ¬åœ°çŸ¥è¯†åº“
jq '.solutions[] | select(.tags[] | test("ros2"; "i"))' \
   ./docs/.evolving-expert/index.json

# æœç´¢å…¨å±€çŸ¥è¯†åº“
jq '.solutions[] | select(.tags[] | test("ros2"; "i"))' \
   ~/.claude/knowledge-base/index.json
```

### æŒ‰æ ‡é¢˜æœç´¢

```bash
# æœç´¢æ ‡é¢˜åŒ…å«å…³é”®è¯çš„è§£å†³æ–¹æ¡ˆ
jq '.solutions[] | select(.title | test("cmake"; "i"))' \
   ./docs/.evolving-expert/index.json
```

### è¯»å–è§£å†³æ–¹æ¡ˆ

```bash
# æ ¹æ® ID è¯»å–å®Œæ•´å†…å®¹
solution_id="20260126_123456_fix_cmake"
file=$(jq -r ".solutions[] | select(.id == \"$solution_id\") | .file" \
       ./docs/.evolving-expert/index.json)
cat "./docs/.evolving-expert/$file"
```

### åˆ—å‡ºæ‰€æœ‰è§£å†³æ–¹æ¡ˆ

```bash
# æœ¬åœ°çŸ¥è¯†åº“çš„æ‰€æœ‰è§£å†³æ–¹æ¡ˆ
jq '.solutions[] | {id, title, tags}' ./docs/.evolving-expert/index.json

# å…¨å±€çŸ¥è¯†åº“çš„æ‰€æœ‰è§£å†³æ–¹æ¡ˆ
jq '.solutions[] | {id, title, tags}' ~/.claude/knowledge-base/index.json
```

## è¾“å‡ºæ ¼å¼

å½“æ‰¾åˆ°ç›¸å…³è§£å†³æ–¹æ¡ˆæ—¶ï¼Œå‘ç”¨æˆ·æ˜¾ç¤ºï¼š

```
ğŸ” çŸ¥è¯†åº“æ£€ç´¢ç»“æœ

æ‰¾åˆ° 3 ä¸ªç›¸å…³çš„è§£å†³æ–¹æ¡ˆï¼š

1. [20260125_fix_cmake_config] ä¿®å¤ CMake é…ç½®é”™è¯¯
   æ ‡ç­¾: cmake, compilation, build
   åˆ›å»ºæ—¶é—´: 2026-01-25
   å‘½ä¸­æ¬¡æ•°: 5
   ç›¸å…³åº¦: é«˜ â­â­â­

   æ‘˜è¦: è§£å†³äº† ROS2 é¡¹ç›®ä¸­çš„ CMake é…ç½®é—®é¢˜...

2. [20260120_ros2_setup] ROS2 ç¯å¢ƒé…ç½®æŒ‡å—
   æ ‡ç­¾: ros2, setup, configuration
   åˆ›å»ºæ—¶é—´: 2026-01-20
   å‘½ä¸­æ¬¡æ•°: 3
   ç›¸å…³åº¦: ä¸­ â­â­

   æ‘˜è¦: å®Œæ•´çš„ ROS2 ç¯å¢ƒé…ç½®æ­¥éª¤...

3. [20260118_build_optimization] æ„å»ºä¼˜åŒ–æŠ€å·§
   æ ‡ç­¾: build, optimization, cmake
   åˆ›å»ºæ—¶é—´: 2026-01-18
   å‘½ä¸­æ¬¡æ•°: 2
   ç›¸å…³åº¦: ä½ â­

   æ‘˜è¦: ä¼˜åŒ–æ„å»ºé€Ÿåº¦çš„æŠ€å·§...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å»ºè®®ï¼š
  â€¢ å…ˆå°è¯•åº”ç”¨æ–¹æ¡ˆ #1ï¼ˆç›¸å…³åº¦æœ€é«˜ï¼‰
  â€¢ å¦‚æœä¸é€‚ç”¨ï¼ŒæŸ¥çœ‹æ–¹æ¡ˆ #2
  â€¢ é˜…è¯»å®Œæ•´å†…å®¹ï¼šRead ./docs/.evolving-expert/solutions/20260125_fix_cmake_config.md
```

## è‡ªåŠ¨è§¦å‘

æ­¤ skill åº”è¯¥åœ¨ä»¥ä¸‹æƒ…å†µ**è‡ªåŠ¨è§¦å‘**ï¼ˆç”± Claude å†³å®šï¼‰ï¼š

1. é‡åˆ°ç¼–è¯‘é”™è¯¯
2. é‡åˆ°é…ç½®é—®é¢˜
3. é‡åˆ°è¿è¡Œæ—¶é”™è¯¯
4. ç”¨æˆ·æå‡ºæŠ€æœ¯é—®é¢˜
5. éœ€è¦å®ç°æŸä¸ªåŠŸèƒ½ï¼ˆå…ˆæŸ¥æ˜¯å¦æœ‰å‚è€ƒï¼‰

ä½ ä¹Ÿå¯ä»¥**æ‰‹åŠ¨è§¦å‘**ï¼š

```
ä½¿ç”¨ knowledge-retrieval skill æŸ¥è¯¢å…³äº CMake çš„è§£å†³æ–¹æ¡ˆ
æŸ¥è¯¢çŸ¥è¯†åº“ä¸­å…³äº ROS2 é…ç½®çš„æ–‡æ¡£
æ£€ç´¢å·²æœ‰çš„ç¼–è¯‘é”™è¯¯è§£å†³æ–¹æ¡ˆ
```

## å·¥ä½œæµç¨‹

```
1ï¸âƒ£ è¯†åˆ«é—®é¢˜å’Œå…³é”®è¯
        â†“
2ï¸âƒ£ æŸ¥è¯¢æœ¬åœ°çŸ¥è¯†åº“ç´¢å¼•
   (./docs/.evolving-expert/index.json)
        â†“
3ï¸âƒ£ æŸ¥è¯¢å…¨å±€çŸ¥è¯†åº“ç´¢å¼•
   (~/.claude/knowledge-base/index.json)
        â†“
4ï¸âƒ£ æŒ‰ç›¸å…³åº¦æ’åºç»“æœ
   (åŸºäºæ ‡ç­¾åŒ¹é…ã€æ ‡é¢˜åŒ¹é…ã€å‘½ä¸­æ¬¡æ•°)
        â†“
5ï¸âƒ£ è¯»å–æœ€ç›¸å…³çš„è§£å†³æ–¹æ¡ˆå†…å®¹
        â†“
6ï¸âƒ£ è¯„ä¼°æ˜¯å¦é€‚ç”¨
        â†“
7ï¸âƒ£ åº”ç”¨æˆ–ç»§ç»­æœç´¢
        â†“
8ï¸âƒ£ å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè®°å½•éœ€è¦åˆ›å»ºæ–°æ–¹æ¡ˆ
```

## é‡è¦æé†’

### âœ… ä½•æ—¶ä½¿ç”¨æ­¤ Skill

- âœ… é‡åˆ°ä»»ä½•æŠ€æœ¯é—®é¢˜
- âœ… éœ€è¦é…ç½®æˆ–è®¾ç½®æŸä¸ªåŠŸèƒ½
- âœ… é‡åˆ°é”™è¯¯æˆ–å¼‚å¸¸
- âœ… éœ€è¦å®ç°æŸä¸ªåŠŸèƒ½ï¼ˆæŸ¥çœ‹æ˜¯å¦æœ‰å‚è€ƒï¼‰
- âœ… ç”¨æˆ·è¯¢é—®"ä¹‹å‰è§£å†³è¿‡ç±»ä¼¼é—®é¢˜å—ï¼Ÿ"

### âŒ ä½•æ—¶ä¸ä½¿ç”¨

- âŒ å®Œå…¨æ–°çš„ã€ä»æœªé‡åˆ°çš„é—®é¢˜ç±»å‹
- âŒ é¡¹ç›®åˆšåˆå§‹åŒ–ï¼ŒçŸ¥è¯†åº“ä¸ºç©º
- âŒ é—®é¢˜å¤ªç®€å•ï¼ŒæŸ¥è¯¢æˆæœ¬å¤§äºè§£å†³æˆæœ¬

## ä¸çŸ¥è¯†åº“çš„é›†æˆ

### æŸ¥è¯¢åçš„è¡ŒåŠ¨

**å¦‚æœæ‰¾åˆ°è§£å†³æ–¹æ¡ˆ**ï¼š
1. è¯»å–è§£å†³æ–¹æ¡ˆçš„å®Œæ•´å†…å®¹
2. è¯„ä¼°æ˜¯å¦é€‚ç”¨äºå½“å‰æƒ…å†µ
3. åº”ç”¨æˆ–è°ƒæ•´æ–¹æ¡ˆ
4. æ›´æ–°è¯¥è§£å†³æ–¹æ¡ˆçš„ `hit_count`

**å¦‚æœæ²¡æœ‰æ‰¾åˆ°**ï¼š
1. å°è¯•è§£å†³é—®é¢˜
2. é—®é¢˜è§£å†³åï¼Œè®°å½•åˆ°çŸ¥è¯†åº“
3. ä¸ºè§£å†³æ–¹æ¡ˆæ‰“ä¸Šå‡†ç¡®çš„æ ‡ç­¾
4. ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶å¯ä»¥å¤ç”¨

### æ›´æ–°å‘½ä¸­æ¬¡æ•°

å½“ä½¿ç”¨äº†æŸä¸ªè§£å†³æ–¹æ¡ˆåï¼Œæ›´æ–°å…¶å‘½ä¸­æ¬¡æ•°ï¼š

```bash
# æ›´æ–°æœ¬åœ°ç´¢å¼•
jq '(.solutions[] | select(.id == "solution_id")).hit_count += 1' \
   ./docs/.evolving-expert/index.json > index.json.tmp && \
   mv index.json.tmp ./docs/.evolving-expert/index.json

# åŒæ­¥åˆ°å…¨å±€ç´¢å¼•
jq '(.solutions[] | select(.id == "solution_id")).hit_count += 1' \
   ~/.claude/knowledge-base/index.json > index.json.tmp && \
   mv index.json.tmp ~/.claude/knowledge-base/index.json
```

---

**è®¾è®¡ç†å¿µ**ï¼šçŸ¥è¯†åº“ä¸ä»…æ˜¯å­˜å‚¨ï¼Œæ›´æ˜¯ä¸»åŠ¨å¤ç”¨ã€‚ä¼˜å…ˆæŸ¥è¯¢å·²æœ‰æ–¹æ¡ˆï¼Œé¿å…é‡å¤åŠ³åŠ¨ï¼Œæé«˜æ•ˆç‡ã€‚
